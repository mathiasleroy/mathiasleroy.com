<!doctype html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>Dynamic Kriging Map</title><meta name="description" content=""><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/openlayers/4.0.1/ol.css"><link href="//fonts.googleapis.com/css?family=Raleway|Roboto" rel="stylesheet" media="none" onload='"all"!=media&&(media="all")'><style>body{background:#323232;color:#fff}.row,footer{font-family:Raleway,sans-serif}footer a,footer a:active,footer a:focus{color:rgba(255,255,255,1);font-weight:700}a:hover{color:rgba(255,255,255,.7);text-decoration:none}#map2{width:100vw;height:calc(100vh - 270px);min-height:400px;border:#ccc solid 1px;background:#fff;color:#000}#krigingCanvas{position:absolute;opacity:.5}.paddingTop50{margin-top:50px}.paddingTop20{margin-top:20px}#interpolate-color span{display:block;float:left;height:24px}.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:2000;position:fixed;height:60px;width:100px;margin:auto;top:0;left:0;right:0;bottom:0}.pace-running #wholebody{opacity:0}.pace-done #wholebody{opacity:1}.pace-inactive{display:none}.pace .pace-progress{background-color:#fff;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:4px}.pace .pace-activity{opacity:1;border-bottom:6px solid #fff;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid #fff;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;height:70px;width:70px;animation:rot .6s infinite linear;-webkit-animation:rot .6s infinite linear}.pace:before{font-size:2em;display:inline-block;text-align:center;position:absolute;width:100vw;margin-left:calc(-50vw + 50px);margin-top:-100px;padding-right:35px}.pace:after{content:'Kriging computing should take about 10 seconds';font-size:1.5em;color:#fff;display:inline-block;text-align:center;position:absolute;width:100vw;margin-left:calc(-50vw + 50px);margin-top:50px;padding-right:35px}@-webkit-keyframes rot{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-moz-keyframes rot{from{-moz-transform:rotate(0);transform:rotate(0)}to{-moz-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes rot{from{transform:rotate(0)}to{transform:rotate(359deg)}}body:after,body:before,body>:not(.pace){-webkit-transition:opacity .4s ease-in-out;-moz-transition:opacity .4s ease-in-out;-o-transition:opacity .4s ease-in-out;-ms-transition:opacity .4s ease-in-out;transition:opacity .4s ease-in-out}body:not(.pace-done):after,body:not(.pace-done):before,body:not(.pace-done)>:not(.pace){opacity:0}</style></head><body><div id="page"><div id="map2"></div><div class="container-fluid"><div class="row paddingTop20"><div class="col-md-3"></div><div class="col-md-6"><div class="row"><div class="col-sm-2"><span class="float-right">Best (<span id="minResponse"></span>)</span></div><div class="col-sm-8"><div id="interpolate-color"></div></div><div class="col-sm-2">Worst (<span id="maxResponse"></span>)</div></div></div><div class="col-md-3"></div></div><footer class="footer navbar-fixed-bottom paddingTop50"><div class="container"><div class="row"><div class="col-md-8"><p>This is a <a href="https://en.wikipedia.org/wiki/Kriging">Kriging</a> interpolation of georeferenced data points on an interactive map.<br>You can zoom and drag the map around, the interpolated layer will follow.<br>The green data points are generated randomly (both their position and value) at each <a href="">refresh</a>.</p><p>Made by <a href="//mathiasleroy.com">Mathias Leroy</a></p></div><div class="col-md-4">Tech Stack:<ul><li><a target="_blank" href="http://oeo4b.github.io/">kriging.js</a> for the kriging interpolation</li><li><a target="_blank" href="http://openlayers.org/">OpenLayers</a> for the map canvas</li><li><a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a> for the map tiles</li><li><a target="_blank" href="https://github.com/anomal/RainbowVis-JS">RainbowVis-JS</a> & <a target="_blank" href="http://colorbrewer2.org/">ColorBrewer 2.0</a> for the color gradient</li></ul></div></div></div></footer></div></div><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/openlayers/4.0.1/ol.js"></script><script src="assets/js/kriging-2014-01-08.min.js"></script><script src="assets/js/rainbowvis-2015-05-24.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script><script>Pace.start();var params={mapCenter:[4.88,50.73],initialZoom:8,canvas:{width:850,height:700,step:6},resolution:100,maxDataPoints:501,kriging:{model:"exponential",sigma2:0,alpha:100},colorSpectrum:["#006837","#1a9850","#66bd63","#a6d96a","#d9ef8b","#ffffbf","#fee08b","#fdae61","#f46d43","#d73027","#a50026"],colorBins:100,maxResponse2:500,maxResponse:Number.NEGATIVE_INFINITY,minResponse:0},aa=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(params.mapCenter)),value:params.maxResponse2});aa.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:10,fill:new ol.style.Fill({color:"#F00"})})}));var bb=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(params.mapCenter.map(function(e){return e+.1}))),value:0});bb.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"#00F"})})}));var cc=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(params.mapCenter.map(function(e){return e-.1}))),value:0});cc.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:8,fill:new ol.style.Fill({color:"#00F"})})}));var iconFeature=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat([2.545404,51.089151])),name:"Null Island",population:4e3,rainfall:500}),features=[];features.push(aa),features.push(bb),features.push(cc);for(var i=0;i<10;i++){var feature=new ol.Feature({geometry:new ol.geom.Point(ol.proj.fromLonLat(params.mapCenter.map(function(e){return e+.9*Math.random()-.45}))),value:Math.round(Math.random())*params.maxResponse2});feature.setStyle(new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#0F0"})})})),features.push(feature)}var vectorSource=new ol.source.Vector({features:features}),vectorLayer=new ol.layer.Vector({source:vectorSource}),osmSource=new ol.source.Stamen({layer:"toner-lite"}),rasterLayer=new ol.layer.Tile({source:osmSource}),map2=new ol.Map({target:"map2",layers:[rasterLayer,vectorLayer],view:new ol.View({center:ol.proj.fromLonLat(params.mapCenter),zoom:params.initialZoom})}),original_resolution=map2.getView().getResolution();function krige(){var r=map2.getPixelFromCoordinate(ol.proj.fromLonLat(params.mapCenter));(e=document.createElement("canvas")).setAttribute("id","krigingCanvas"),e.setAttribute("width",params.canvas.width+"px"),e.setAttribute("height",params.canvas.height+"px"),e.setAttribute("style","top: "+(r[1]-params.canvas.height/2)+"px;left: "+(r[0]-params.canvas.width/2)+"px;display:none;z-index:9999;"),map2.getViewport().appendChild(e),map2.lastZoom=map2.getView().getZoom();var n,s=r[0]-params.canvas.width/2,l=r[1]-params.canvas.height/2,i=[],m=[],p=[];if(vectorSource.forEachFeature(function(e,a){value=e.getProperties().value;var o=e.getGeometry().getCoordinates(),t=map2.getPixelFromCoordinate(o);!isNaN(value)&&0<t[0]&&t[0]<params.canvas.width+s&&0<t[1]&&t[1]<params.canvas.height+l&&(i.push(value),m.push(t[0]-s),p.push(t[1]-l),value>params.maxResponse&&(params.maxResponse=value))}),3<i.length){variogram=kriging.train(i,m,p,params.kriging.model,params.kriging.sigma2,params.kriging.alpha),rainbow=new Rainbow,rainbow.setSpectrumByArray(params.colorSpectrum),rainbow.setNumberRange(0,params.maxResponse2);if(variogram){map2.getView().getResolution();var e,a=(e=document.getElementById("krigingCanvas")).getContext("2d");a.clearRect(0,0,params.canvas.width,params.canvas.height);var c=[[2.545429,51.089067],[2.758894,51.164847],[3.075267,51.301174],[3.181295,51.330633],[3.169374,51.350834],[3.186335,51.362532],[3.222011,51.35983],[3.227611,51.339874],[3.366409,51.369167],[3.385336,51.334207],[3.358352,51.315029],[3.377684,51.302575],[3.366017,51.297431],[3.380876,51.286884],[3.375297,51.27853],[3.380694,51.274318],[3.407813,51.256819],[3.41714,51.259788],[3.427397,51.244633],[3.450885,51.241648],[3.527979,51.246312],[3.515446,51.287192],[3.529205,51.288788],[3.538275,51.283709],[3.543287,51.291214],[3.555183,51.289791],[3.56264,51.295891],[3.581906,51.286951],[3.587759,51.29311],[3.581078,51.29831],[3.590222,51.306062],[3.621468,51.2928],[3.640826,51.288189],[3.658382,51.290198],[3.710338,51.272515],[3.752375,51.270368],[3.76255,51.261821],[3.77467,51.263543],[3.795515,51.255986],[3.788508,51.226598],[3.789576,51.21594],[3.799267,51.210844],[3.859432,51.210834],[3.888632,51.222935],[3.890232,51.213865],[3.877641,51.207958],[3.886288,51.200221],[3.918455,51.208197],[3.915948,51.214715],[3.9294,51.220208],[3.936024,51.211877],[3.959139,51.216033],[3.964294,51.223829],[3.978955,51.225343],[3.985907,51.233919],[4.015007,51.245101],[4.024483,51.241526],[4.036554,51.245635],[4.040676,51.241304],[4.061762,51.244547],[4.16613,51.29287],[4.24067,51.352958],[4.225132,51.360954],[4.216522,51.37377],[4.334469,51.377633],[4.341093,51.357561],[4.38457,51.35431],[4.421834,51.365305],[4.431252,51.363857],[4.424877,51.371227],[4.431499,51.374917],[4.383458,51.420922],[4.395197,51.426854],[4.396857,51.44173],[4.392063,51.446253],[4.379511,51.446657],[4.442403,51.46861],[4.465389,51.471313],[4.476573,51.478229],[4.538042,51.482333],[4.547907,51.47358],[4.530154,51.449492],[4.535462,51.423042],[4.574625,51.432829],[4.641275,51.422011],[4.651684,51.426824],[4.669614,51.426427],[4.666567,51.444418],[4.693168,51.451758],[4.703261,51.466952],[4.716908,51.468834],[4.729633,51.484325],[4.74637,51.489398],[4.752675,51.49978],[4.779064,51.504623],[4.783164,51.499502],[4.815867,51.494443],[4.820967,51.483065],[4.841984,51.480723],[4.83624,51.461248],[4.844143,51.459124],[4.838537,51.455988],[4.835204,51.458726],[4.823372,51.448549],[4.828157,51.422181],[4.84144,51.422406],[4.836473,51.417291],[4.784248,51.432563],[4.766497,51.430521],[4.772928,51.413521],[4.789161,51.408954],[4.849794,51.414309],[4.867385,51.409063],[4.873652,51.414817],[4.886162,51.416569],[4.898053,51.411727],[4.900316,51.414681],[4.910117,51.402365],[4.924173,51.397868],[4.913924,51.39505],[4.92091,51.393585],[5.004477,51.443954],[5.010848,51.472251],[5.038784,51.487186],[5.045851,51.470996],[5.079259,51.471312],[5.104881,51.431389],[5.07119,51.393452],[5.131705,51.347127],[5.134487,51.315487],[5.162817,51.310356],[5.200264,51.322624],[5.241794,51.305427],[5.225997,51.268297],[5.237623,51.261531],[5.263049,51.266887],[5.295959,51.261576],[5.336371,51.263142],[5.346126,51.275796],[5.417346,51.262254],[5.441791,51.282124],[5.464946,51.284638],[5.483102,51.300224],[5.515732,51.295159],[5.556488,51.266292],[5.560448,51.222316],[5.65288,51.197653],[5.65813,51.184733],[5.689483,51.185397],[5.709366,51.180376],[5.748768,51.188743],[5.776732,51.178446],[5.773004,51.173415],[5.779637,51.171781],[5.769527,51.169178],[5.770406,51.164226],[5.779319,51.163417],[5.777726,51.151299],[5.804882,51.162845],[5.815378,51.158974],[5.82429,51.167749],[5.838722,51.15704],[5.836361,51.15353],[5.855699,51.144613],[5.840889,51.131047],[5.825679,51.129475],[5.810027,51.118218],[5.809801,51.109779],[5.828613,51.106922],[5.832412,51.097961],[5.823657,51.092391],[5.809201,51.096068],[5.795977,51.091225],[5.804741,51.078889],[5.796554,51.072205],[5.800212,51.061337],[5.792334,51.058684],[5.773357,51.062311],[5.758194,51.033393],[5.776248,51.023826],[5.766756,51.011197],[5.766997,50.999104],[5.720674,50.962292],[5.729292,50.955198],[5.748954,50.960799],[5.758208,50.95121],[5.746807,50.947048],[5.722981,50.909633],[5.698351,50.909945],[5.69571,50.898214],[5.678442,50.880746],[5.670532,50.881801],[5.64408,50.87139],[5.649429,50.868332],[5.641441,50.864191],[5.638924,50.846988],[5.651034,50.832825],[5.648799,50.826691],[5.65617,50.824267],[5.654812,50.819664],[5.687661,50.811919],[5.698938,50.805682],[5.691191,50.795732],[5.701258,50.782958],[5.682035,50.757443],[5.698916,50.755247],[5.720174,50.764648],[5.739013,50.757015],[5.745078,50.76877],[5.77374,50.783203],[5.784542,50.767223],[5.793231,50.770166],[5.807855,50.756029],[5.830661,50.75857],[5.84494,50.765406],[5.848924,50.753408],[5.862792,50.763239],[5.886876,50.76993],[5.892118,50.755242],[5.901776,50.751411],[5.913635,50.755878],[5.916203,50.750403],[5.960716,50.762419],[5.983069,50.752907],[6.019025,50.754863],[6.040689,50.745546],[6.033229,50.730832],[6.039252,50.718307],[6.044591,50.728481],[6.073193,50.720949],[6.114021,50.722601],[6.143593,50.688946],[6.143938,50.681582],[6.183439,50.652035],[6.178344,50.644616],[6.166856,50.64363],[6.183231,50.632233],[6.176451,50.625805],[6.181853,50.623796],[6.194308,50.633905],[6.235822,50.625778],[6.260802,50.628546],[6.269479,50.625392],[6.264921,50.614296],[6.247748,50.603708],[6.240901,50.586954],[6.225174,50.590456],[6.203095,50.569286],[6.17468,50.557893],[6.178026,50.541603],[6.197814,50.535756],[6.187227,50.526296],[6.192203,50.521051],[6.205863,50.520975],[6.226485,50.494472],[6.251809,50.503569],[6.26202,50.498823],[6.269787,50.504582],[6.297437,50.497449],[6.309113,50.501455],[6.334771,50.489066],[6.351202,50.488232],[6.341002,50.48282],[6.340167,50.462675],[6.352118,50.456283],[6.371843,50.455579],[6.377633,50.439511],[6.366705,50.419637],[6.365899,50.401821],[6.342237,50.379849],[6.360933,50.371202],[6.368178,50.358063],[6.391166,50.349852],[6.407933,50.335753],[6.405468,50.323314],[6.382428,50.322133],[6.374775,50.313566],[6.359016,50.313492],[6.358324,50.309779],[6.36379,50.305297],[6.34051,50.315801],[6.342954,50.318418],[6.334613,50.316382],[6.333033,50.323426],[6.306476,50.320078],[6.309528,50.311594],[6.296089,50.308975],[6.298382,50.302295],[6.285855,50.294065],[6.291458,50.277062],[6.27839,50.266288],[6.259011,50.267834],[6.218475,50.254522],[6.215759,50.25701],[6.195496,50.236988],[6.175902,50.235447],[6.176756,50.225994],[6.166574,50.219695],[6.18909,50.205412],[6.183931,50.192119],[6.192576,50.182075],[6.164241,50.178648],[6.160305,50.171614],[6.145952,50.176922],[6.147746,50.170407],[6.13963,50.168427],[6.147679,50.160486],[6.132004,50.15362],[6.140592,50.148024],[6.153152,50.150122],[6.154721,50.141738],[6.137776,50.129933],[6.112312,50.136112],[6.125372,50.150022],[6.114949,50.155424],[6.11967,50.163385],[6.102441,50.170624],[6.084007,50.171975],[6.078928,50.156643],[6.057,50.154329],[6.030484,50.164181],[6.024884,50.182789],[5.963744,50.172554],[5.967502,50.154974],[5.958117,50.151407],[5.961295,50.13138],[5.914362,50.121858],[5.895264,50.112211],[5.88688,50.078783],[5.860668,50.069135],[5.854465,50.059416],[5.869992,50.045929],[5.85613,50.03613],[5.859965,50.028915],[5.819046,50.012854],[5.823517,49.996956],[5.840429,49.989436],[5.83866,49.982258],[5.813078,49.972483],[5.807253,49.962369],[5.795867,49.965758],[5.775035,49.960753],[5.770559,49.949599],[5.775304,49.937722],[5.764156,49.931536],[5.763976,49.915664],[5.736137,49.899029],[5.783632,49.878118],[5.77794,49.875824],[5.783832,49.872399],[5.774395,49.867387],[5.770138,49.872521],[5.764693,49.869397],[5.755548,49.872894],[5.760639,49.856519],[5.745774,49.853441],[5.758542,49.848794],[5.748385,49.846483],[5.750455,49.839803],[5.741497,49.839151],[5.739459,49.833799],[5.748595,49.824343],[5.743465,49.820624],[5.751077,49.814766],[5.753255,49.79346],[5.790264,49.795602],[5.817933,49.753999],[5.832252,49.746835],[5.826169,49.723603],[5.843867,49.721264],[5.865385,49.726745],[5.886689,49.709336],[5.866689,49.694497],[5.865467,49.675977],[5.910677,49.662383],[5.901787,49.651803],[5.907784,49.639046],[5.883814,49.632971],[5.876526,49.608497],[5.847793,49.595926],[5.850125,49.58693],[5.869738,49.589071],[5.873332,49.583543],[5.866209,49.580625],[5.87266,49.574092],[5.843187,49.560705],[5.842366,49.553095],[5.825901,49.552269],[5.8186,49.546368],[5.791962,49.551735],[5.771195,49.563318],[5.758425,49.561415],[5.757805,49.542955],[5.751406,49.540188],[5.738295,49.538808],[5.73395,49.545557],[5.707184,49.538765],[5.660712,49.553532],[5.642572,49.550479],[5.622069,49.534441],[5.615752,49.527262],[5.621463,49.519115],[5.610936,49.505977],[5.591129,49.52292],[5.556663,49.52919],[5.540945,49.515129],[5.504677,49.507182],[5.483893,49.507472],[5.471747,49.496963],[5.464963,49.499178],[5.465984,49.508813],[5.447255,49.5181],[5.467155,49.525826],[5.465434,49.538926],[5.44142,49.551969],[5.456896,49.566816],[5.437797,49.569379],[5.43118,49.592554],[5.411138,49.608324],[5.352101,49.63099],[5.346241,49.630691],[5.340631,49.616673],[5.312337,49.611447],[5.304988,49.630303],[5.33232,49.654587],[5.280856,49.68944],[5.268504,49.696538],[5.242637,49.684746],[5.242891,49.68922],[5.231538,49.691695],[5.217852,49.687603],[5.205669,49.696179],[5.196246,49.69196],[5.164093,49.693366],[5.165907,49.711806],[5.153785,49.718715],[5.143628,49.709299],[5.141133,49.713411],[5.126018,49.712434],[5.119083,49.738323],[5.093594,49.763962],[5.062898,49.76215],[5.061664,49.767257],[5.00816,49.781898],[4.997411,49.799911],[4.96875,49.801576],[4.967012,49.79819],[4.957047,49.801904],[4.947601,49.79904],[4.942848,49.790518],[4.938879,49.793143],[4.930603,49.786837],[4.905125,49.78549],[4.875972,49.793629],[4.863654,49.788779],[4.851625,49.793444],[4.876271,49.819488],[4.868855,49.822986],[4.867258,49.842095],[4.856869,49.841334],[4.84761,49.867988],[4.854401,49.864703],[4.862918,49.867192],[4.869419,49.88384],[4.887492,49.898689],[4.876399,49.901376],[4.877798,49.904612],[4.890073,49.908972],[4.881551,49.921882],[4.858671,49.931976],[4.847167,49.948936],[4.791034,49.958024],[4.790224,49.968994],[4.793671,49.982295],[4.8072,49.984008],[4.819438,49.995006],[4.819763,50.025848],[4.841816,50.038956],[4.840693,50.046327],[4.827467,50.049994],[4.82927,50.057407],[4.819593,50.060562],[4.819534,50.066213],[4.83791,50.067628],[4.840474,50.083086],[4.846969,50.083577],[4.838298,50.09338],[4.848597,50.100946],[4.858713,50.099946],[4.860157,50.093024],[4.872342,50.087849],[4.875842,50.094513],[4.866906,50.097068],[4.873511,50.10737],[4.86721,50.119216],[4.87846,50.131775],[4.886912,50.130872],[4.897038,50.137912],[4.881922,50.140842],[4.877731,50.153625],[4.832384,50.152986],[4.825005,50.168882],[4.806463,50.152546],[4.762261,50.136413],[4.756286,50.122438],[4.747989,50.122382],[4.751816,50.111912],[4.702123,50.095465],[4.679814,50.067825],[4.686148,50.057436],[4.697042,50.059101],[4.700117,50.053072],[4.68479,50.027175],[4.685054,50.007004],[4.692883,49.995467],[4.667261,49.99679],[4.632904,49.987102],[4.581773,49.983471],[4.564514,49.9704],[4.540989,49.969571],[4.523403,49.950235],[4.511292,49.946516],[4.481301,49.948117],[4.445518,49.937269],[4.432742,49.941811],[4.416574,49.947633],[4.390458,49.947748],[4.381589,49.953587],[4.350813,49.952299],[4.335891,49.963242],[4.309332,49.969559],[4.289569,49.963562],[4.269293,49.965494],[4.19721,49.954626],[4.197093,49.967511],[4.172769,49.977136],[4.152961,49.974512],[4.141717,49.978257],[4.163167,49.995179],[4.161847,50.000584],[4.142325,50.005655],[4.13532,50.015126],[4.152492,50.039684],[4.162383,50.049361],[4.173591,50.045489],[4.194195,50.049409],[4.198405,50.057575],[4.218558,50.061013],[4.230631,50.071606],[4.225196,50.085502],[4.200303,50.100916],[4.206527,50.106088],[4.196756,50.106374],[4.204043,50.115529],[4.199143,50.134427],[4.157216,50.13529],[4.15446,50.12784],[4.127287,50.135625],[4.137847,50.152029],[4.15571,50.16427],[4.155632,50.171905],[4.148047,50.174179],[4.160616,50.198654],[4.150387,50.213573],[4.172822,50.217098],[4.181558,50.23231],[4.220044,50.251823],[4.221229,50.258576],[4.208067,50.272959],[4.176679,50.275055],[4.176369,50.284527],[4.162575,50.2888],[4.149228,50.27581],[4.163354,50.27183],[4.167931,50.259829],[4.135447,50.257454],[4.136199,50.27459],[4.123969,50.272755],[4.125675,50.28841],[4.117721,50.303648],[4.109562,50.301787],[4.09725,50.313566],[4.079039,50.309625],[4.077875,50.32094],[4.055026,50.332531],[4.054071,50.339201],[4.03608,50.343568],[4.024172,50.359127],[4.017885,50.352382],[3.993929,50.348615],[3.985653,50.341999],[3.972769,50.347816],[3.970633,50.343042],[3.965523,50.34146],[3.968226,50.350038],[3.900551,50.32701],[3.885594,50.327012],[3.890452,50.329813],[3.88713,50.340907],[3.875405,50.337592],[3.857234,50.342217],[3.847354,50.352932],[3.82438,50.353462],[3.823483,50.347108],[3.815358,50.344903],[3.814054,50.353196],[3.806292,50.355334],[3.798894,50.350912],[3.766627,50.353146],[3.763339,50.348049],[3.747154,50.351081],[3.73372,50.342779],[3.738594,50.341263],[3.729954,50.330402],[3.731847,50.311514],[3.721223,50.311316],[3.710052,50.319541],[3.720025,50.305022],[3.710243,50.303233],[3.683991,50.320138],[3.693867,50.321826],[3.672907,50.334824],[3.677394,50.340303],[3.664682,50.347672],[3.667208,50.360898],[3.657342,50.368529],[3.673742,50.388666],[3.674892,50.402275],[3.669798,50.437266],[3.658435,50.446797],[3.662621,50.456142],[3.653563,50.463447],[3.644672,50.462426],[3.63256,50.479982],[3.608032,50.496962],[3.585343,50.490542],[3.568434,50.500886],[3.53916,50.49433],[3.523332,50.495442],[3.50065,50.486738],[3.49612,50.498869],[3.516119,50.512937],[3.519818,50.523659],[3.474151,50.533697],[3.453777,50.519208],[3.448974,50.506641],[3.435432,50.509918],[3.377085,50.49108],[3.361469,50.504035],[3.329681,50.508084],[3.320577,50.518664],[3.288499,50.525952],[3.278938,50.538499],[3.28234,50.552143],[3.275914,50.558532],[3.285157,50.56168],[3.277786,50.564411],[3.279502,50.595961],[3.255177,50.622731],[3.2591,50.629811],[3.244108,50.640677],[3.24941,50.647251],[3.240106,50.658575],[3.241181,50.668809],[3.265275,50.677002],[3.25294,50.689667],[3.26141,50.691971],[3.261057,50.701307],[3.245481,50.713058],[3.204856,50.712078],[3.209574,50.717449],[3.191423,50.724686],[3.199728,50.734997],[3.188001,50.740114],[3.177102,50.756244],[3.150567,50.790133],[3.124906,50.786446],[3.114195,50.794503],[3.105361,50.782386],[3.087941,50.773092],[3.05892,50.780761],[3.033612,50.769834],[3.018903,50.773701],[3.014306,50.773911],[2.972634,50.750328],[2.955786,50.753785],[2.938743,50.745261],[2.944732,50.732184],[2.931611,50.728312],[2.929296,50.709756],[2.923251,50.703261],[2.910122,50.703144],[2.909074,50.693323],[2.899926,50.693211],[2.885239,50.706419],[2.869698,50.70333],[2.863188,50.708288],[2.848025,50.723043],[2.819261,50.715605],[2.789684,50.726086],[2.782897,50.751503],[2.766008,50.754567],[2.76304,50.762884],[2.756383,50.762714],[2.761939,50.771025],[2.730213,50.78808],[2.720949,50.802283],[2.723929,50.810678],[2.713104,50.815419],[2.67892,50.813455],[2.669223,50.822733],[2.655772,50.813476],[2.635149,50.812963],[2.616674,50.848034],[2.599094,50.848892],[2.612888,50.867526],[2.604367,50.886193],[2.607965,50.910093],[2.603717,50.91663],[2.594355,50.914404],[2.590161,50.918871],[2.617739,50.934776],[2.617889,50.941452],[2.632757,50.946313],[2.610811,50.973734],[2.607134,50.991191],[2.592738,50.993115],[2.573972,51.003321],[2.562945,51.064662]];(n=a).beginPath(),c.forEach(function(e,a){var o=map2.getPixelFromCoordinate(ol.proj.fromLonLat(c[a])),t=[o[0]-r[0]+params.canvas.width/2,o[1]-r[1]+params.canvas.height/2];0===a&&n.moveTo(t[0],t[1]),n.lineTo(t[0],t[1])}),n.closePath();var o=params.canvas.step;a.clip(),e.style.display="block";for(var t=1;t<params.canvas.width;t+=o)for(var g=1;g<params.canvas.height;g+=o)predictedValue=kriging.predict(t,g,variogram),a.fillStyle="#"+rainbow.colourAt(Math.round(predictedValue)),a.fillRect(t-o,g-o,t+o,g+o)}else console.log("Insufficient data for Interpolation on this date/time.")}else console.log("not enough points for kriging");for(var u="",d=document.querySelector("#interpolate-color"),f=1;f<=params.maxResponse;f+=params.maxResponse/100)u+='<span style="background:#'+rainbow.colourAt(f)+';width:1%"></span>';d.innerHTML=u,$("#maxResponse").text(params.maxResponse),$("#minResponse").text(params.minResponse),Pace.stop()}function onPostRender(){var e=document.getElementById("krigingCanvas"),a=map2.getView().getZoom();if(e){var o=map2.getPixelFromCoordinate(ol.proj.fromLonLat(params.mapCenter));e.style.top=o[1]-params.canvas.height/2+"px",e.style.left=o[0]-params.canvas.width/2+"px",a!=map2.lastZoom&&(e.style.transform="scale("+Math.pow(2,a-params.initialZoom)+")")}map2.lastZoom=a}map2.once("postrender",function(){krige()}),map2.on("postrender",onPostRender),-1<document.location.hostname.search("mathiasleroy.com")&&(!function(e,a,o,t,r,n,s){e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,n=a.createElement(o),s=a.getElementsByTagName(o)[0],n.async=1,n.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(n,s)}(window,document,"script",0,"ga"),ga("create","UA-8990529-8","auto"),ga("send","pageview"))</script></body></html>